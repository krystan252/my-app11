{"ast":null,"code":"import _slicedToArray from \"C:/Users/MKele/Desktop/obj11/my-app11/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _regeneratorRuntime from \"C:/Users/MKele/Desktop/obj11/my-app11/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/MKele/Desktop/obj11/my-app11/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\MKele\\\\Desktop\\\\obj11\\\\my-app11\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport ErrorMessage from \"./ErrorMessage\";\nimport TxList from \"./TxList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar startPayment = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref) {\n    var setError, setTxs, ether, addr, provider, signer, tx;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setError = _ref.setError, setTxs = _ref.setTxs, ether = _ref.ether, addr = _ref.addr;\n            _context.prev = 1;\n\n            if (window.ethereum) {\n              _context.next = 4;\n              break;\n            }\n\n            throw new Error(\"No crypto wallet found. Please install it.\");\n\n          case 4:\n            _context.next = 6;\n            return window.ethereum.send(\"eth_requestAccounts\");\n\n          case 6:\n            provider = new ethers.providers.Web3Provider(window.ethereum);\n            signer = provider.getSigner();\n            ethers.utils.getAddress(addr);\n            _context.next = 11;\n            return signer.sendTransaction({\n              to: addr,\n              value: ethers.utils.parseEther(ether)\n            });\n\n          case 11:\n            tx = _context.sent;\n            console.log({\n              ether: ether,\n              addr: addr\n            });\n            console.log(\"tx\", tx);\n            setTxs([tx]);\n            _context.next = 20;\n            break;\n\n          case 17:\n            _context.prev = 17;\n            _context.t0 = _context[\"catch\"](1);\n            setError(_context.t0.message);\n\n          case 20:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 17]]);\n  }));\n\n  return function startPayment(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default function App() {\n  _s();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      txs = _useState4[0],\n      setTxs = _useState4[1];\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e) {\n      var data;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              e.preventDefault();\n              data = new FormData(e.target);\n              setError();\n              _context2.next = 5;\n              return startPayment({\n                setError: setError,\n                setTxs: setTxs,\n                ether: data.get(\"ether\"),\n                addr: data.get(\"addr\")\n              });\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleSubmit(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"m-4\",\n    onSubmit: handleSubmit,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"credit-card w-full lg:w-1/2 sm:w-auto shadow-lg mx-auto rounded-xl bg-white\",\n      children: [/*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"mt-4 p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-semibold text-gray-700 text-center\",\n          children: \"Private Sale\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"my-3\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"hidden\",\n              name: \"addr\",\n              value: \"0xeFD4f5Ae3aE7d0E1163249EB4C40Bc9c935F0087\",\n              className: \"input input-bordered block w-full focus:ring focus:outline-none\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"my-3\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"ether\",\n              type: \"text\",\n              min: \"0.1\",\n              max: \"5\",\n              className: \"input input-bordered block w-full focus:ring focus:outline-none\",\n              placeholder: \"Minimum 0.1 - Maximum 5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n        className: \"p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary submit-button focus:ring focus:outline-none w-full\",\n          children: \"Pay now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          message: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TxList, {\n          txs: txs\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"HXS0SvOWJUPoZwy4VdSQopbB26M=\");\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","ethers","ErrorMessage","TxList","startPayment","setError","setTxs","ether","addr","window","ethereum","Error","send","provider","providers","Web3Provider","signer","getSigner","utils","getAddress","sendTransaction","to","value","parseEther","tx","console","log","message","App","error","txs","handleSubmit","e","preventDefault","data","FormData","target","get"],"sources":["C:/Users/MKele/Desktop/obj11/my-app11/src/App.js"],"sourcesContent":["import { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport ErrorMessage from \"./ErrorMessage\";\nimport TxList from \"./TxList\";\n\nconst startPayment = async ({ setError, setTxs, ether, addr }) => {\n  try {\n    if (!window.ethereum)\n      throw new Error(\"No crypto wallet found. Please install it.\");\n\n    await window.ethereum.send(\"eth_requestAccounts\");\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    const signer = provider.getSigner();\n    ethers.utils.getAddress(addr);\n    const tx = await signer.sendTransaction({\n      to: addr,\n      value: ethers.utils.parseEther(ether)\n    });\n    console.log({ ether, addr });\n    console.log(\"tx\", tx);\n    setTxs([tx]);\n  } catch (err) {\n    setError(err.message);\n  }\n};\n\nexport default function App() {\n  const [error, setError] = useState();\n  const [txs, setTxs] = useState([]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const data = new FormData(e.target);\n    setError();\n    await startPayment({\n      setError,\n      setTxs,\n      ether: data.get(\"ether\"),\n      addr: data.get(\"addr\")\n    });\n  };\n\n  return (\n    <form className=\"m-4\" onSubmit={handleSubmit}>\n      <div className=\"credit-card w-full lg:w-1/2 sm:w-auto shadow-lg mx-auto rounded-xl bg-white\">\n        <main className=\"mt-4 p-4\">\n          <h1 className=\"text-xl font-semibold text-gray-700 text-center\">\n            Private Sale\n          </h1>\n          <div className=\"\">\n            <div className=\"my-3\">\n              <input\n                type=\"hidden\"\n                name=\"addr\"\n                value=\"0xeFD4f5Ae3aE7d0E1163249EB4C40Bc9c935F0087\"\n                className=\"input input-bordered block w-full focus:ring focus:outline-none\"\n              />\n            </div>\n            <div className=\"my-3\">\n              <input\n                name=\"ether\"\n                type=\"text\"\n                min=\"0.1\"\n                max=\"5\"\n                className=\"input input-bordered block w-full focus:ring focus:outline-none\"\n                placeholder=\"Minimum 0.1 - Maximum 5\"\n              />\n            </div>\n          </div>\n        </main>\n        <footer className=\"p-4\">\n          <button\n            type=\"submit\"\n            className=\"btn btn-primary submit-button focus:ring focus:outline-none w-full\"\n          >\n            Pay now\n          </button>\n          <ErrorMessage message={error} />\n          <TxList txs={txs} />\n        </footer>\n      </div>\n    </form>\n  );\n}\n"],"mappings":";;;;;;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,MAAP,MAAmB,UAAnB;;;AAEA,IAAMC,YAAY;EAAA,uEAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YAASC,QAAT,QAASA,QAAT,EAAmBC,MAAnB,QAAmBA,MAAnB,EAA2BC,KAA3B,QAA2BA,KAA3B,EAAkCC,IAAlC,QAAkCA,IAAlC;YAAA;;YAAA,IAEZC,MAAM,CAACC,QAFK;cAAA;cAAA;YAAA;;YAAA,MAGT,IAAIC,KAAJ,CAAU,4CAAV,CAHS;;UAAA;YAAA;YAAA,OAKXF,MAAM,CAACC,QAAP,CAAgBE,IAAhB,CAAqB,qBAArB,CALW;;UAAA;YAMXC,QANW,GAMA,IAAIZ,MAAM,CAACa,SAAP,CAAiBC,YAArB,CAAkCN,MAAM,CAACC,QAAzC,CANA;YAOXM,MAPW,GAOFH,QAAQ,CAACI,SAAT,EAPE;YAQjBhB,MAAM,CAACiB,KAAP,CAAaC,UAAb,CAAwBX,IAAxB;YARiB;YAAA,OASAQ,MAAM,CAACI,eAAP,CAAuB;cACtCC,EAAE,EAAEb,IADkC;cAEtCc,KAAK,EAAErB,MAAM,CAACiB,KAAP,CAAaK,UAAb,CAAwBhB,KAAxB;YAF+B,CAAvB,CATA;;UAAA;YASXiB,EATW;YAajBC,OAAO,CAACC,GAAR,CAAY;cAAEnB,KAAK,EAALA,KAAF;cAASC,IAAI,EAAJA;YAAT,CAAZ;YACAiB,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBF,EAAlB;YACAlB,MAAM,CAAC,CAACkB,EAAD,CAAD,CAAN;YAfiB;YAAA;;UAAA;YAAA;YAAA;YAiBjBnB,QAAQ,CAAC,YAAIsB,OAAL,CAAR;;UAjBiB;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAZvB,YAAY;IAAA;EAAA;AAAA,GAAlB;;AAqBA,eAAe,SAASwB,GAAT,GAAe;EAAA;;EAC5B,gBAA0B5B,QAAQ,EAAlC;EAAA;EAAA,IAAO6B,KAAP;EAAA,IAAcxB,QAAd;;EACA,iBAAsBL,QAAQ,CAAC,EAAD,CAA9B;EAAA;EAAA,IAAO8B,GAAP;EAAA,IAAYxB,MAAZ;;EAEA,IAAMyB,YAAY;IAAA,uEAAG,kBAAOC,CAAP;MAAA;MAAA;QAAA;UAAA;YAAA;cACnBA,CAAC,CAACC,cAAF;cACMC,IAFa,GAEN,IAAIC,QAAJ,CAAaH,CAAC,CAACI,MAAf,CAFM;cAGnB/B,QAAQ;cAHW;cAAA,OAIbD,YAAY,CAAC;gBACjBC,QAAQ,EAARA,QADiB;gBAEjBC,MAAM,EAANA,MAFiB;gBAGjBC,KAAK,EAAE2B,IAAI,CAACG,GAAL,CAAS,OAAT,CAHU;gBAIjB7B,IAAI,EAAE0B,IAAI,CAACG,GAAL,CAAS,MAAT;cAJW,CAAD,CAJC;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAH;;IAAA,gBAAZN,YAAY;MAAA;IAAA;EAAA,GAAlB;;EAYA,oBACE;IAAM,SAAS,EAAC,KAAhB;IAAsB,QAAQ,EAAEA,YAAhC;IAAA,uBACE;MAAK,SAAS,EAAC,6EAAf;MAAA,wBACE;QAAM,SAAS,EAAC,UAAhB;QAAA,wBACE;UAAI,SAAS,EAAC,iDAAd;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAIE;UAAK,SAAS,EAAC,EAAf;UAAA,wBACE;YAAK,SAAS,EAAC,MAAf;YAAA,uBACE;cACE,IAAI,EAAC,QADP;cAEE,IAAI,EAAC,MAFP;cAGE,KAAK,EAAC,4CAHR;cAIE,SAAS,EAAC;YAJZ;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA,QADF,eASE;YAAK,SAAS,EAAC,MAAf;YAAA,uBACE;cACE,IAAI,EAAC,OADP;cAEE,IAAI,EAAC,MAFP;cAGE,GAAG,EAAC,KAHN;cAIE,GAAG,EAAC,GAJN;cAKE,SAAS,EAAC,iEALZ;cAME,WAAW,EAAC;YANd;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA,QATF;QAAA;UAAA;UAAA;UAAA;QAAA,QAJF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eA0BE;QAAQ,SAAS,EAAC,KAAlB;QAAA,wBACE;UACE,IAAI,EAAC,QADP;UAEE,SAAS,EAAC,oEAFZ;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAOE,QAAC,YAAD;UAAc,OAAO,EAAEF;QAAvB;UAAA;UAAA;UAAA;QAAA,QAPF,eAQE,QAAC,MAAD;UAAQ,GAAG,EAAEC;QAAb;UAAA;UAAA;UAAA;QAAA,QARF;MAAA;QAAA;QAAA;QAAA;MAAA,QA1BF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAyCD;;GAzDuBF,G;;KAAAA,G"},"metadata":{},"sourceType":"module"}